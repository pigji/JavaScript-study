<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>promise</title>
</head>
<body>
  <script>
    function getData(){
      return new Promise(function(resolve, reject){
        //let data = 100;
        //resolve(data);
        reject(new Error("오류 발생!"))
      })
    }

    //resolve의 결과값 data를 resolvedData매개변수로 받음
    getData()
      .then(function(resolvedData){
        console.log(resolvedData) //100 출력
    })
    .catch(function(err){ //reject의 결과 값 Error을 err로 받음
      console.log(err)
    })

    //프로미스 체이닝
    function doSomething(){
      return new Promise((resolve, reject) => {
        resolve(100)  //.then핸들러의 인자로 100을 전달
      })
    }

    //함수 호출
    doSomething()
      .then((value1) => {   //resolve메소드의 인자 값을 value1 매개변수로 ㅂ다음
        const data1 = value1 + 50;  //value1에 50을 더해서 data1에 할당
        console.log(data1);   //150 출력
        return data1  //data1을 반환
      })
      .then((value2) => {
        const data2 = value2 + 50;
        console.log(data2)  //200 출력
        return data2
      })
      .then((value3) => {
        const data3 = value3 + 50;
        console.log(data3)  //250 출력
        return data3
      })
  </script>
</body>
</html>